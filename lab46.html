<!-- lab046.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="exit_0 Documentation" />
    <meta name="name" content="Vonds" />

    <title>Vonds | Lab 046</title>

    <!-- Favicons -->
    <link rel="shortcut icon" href="../assets/images/favicon.png" />
    <link rel="apple-touch-icon" href="../assets/images/apple-touch-icon.png" />
    <link
      rel="apple-touch-icon"
      sizes="72x72"
      href="../assets/images/apple-touch-icon-72x72.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="../assets/images/apple-touch-icon-114x114.png"
    />

    <!-- Site styles (your existing) -->
    <link href="../assets/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="../assets/css/font-awesome.min.css" rel="stylesheet" />
    <link href="../assets/css/linea-icons.css" rel="stylesheet" />
    <link href="../assets/css/ionicons.min.css" rel="stylesheet" />
    <link href="../assets/css/simpletextrotator.css" rel="stylesheet" />
    <link href="../assets/css/magnific-popup.css" rel="stylesheet" />
    <link href="../assets/css/owl.carousel.css" rel="stylesheet" />
    <link href="../assets/css/superslides.css" rel="stylesheet" />
    <link href="../assets/css/vertical.css" rel="stylesheet" />
    <link href="../assets/css/animate.css" rel="stylesheet" />
    <link href="../assets/css/style.css" rel="stylesheet" />
    <link href="../assets/css/docs.css" rel="stylesheet" />

    <!-- Lab page styles -->
    <link href="../assets/css/lab.css" rel="stylesheet" />

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Dosis"
      rel="stylesheet"
    />
  </head>

  <body>
    <!-- PRELOADER -->
    <div class="page-loader">
      <div class="loader">Loading...</div>
    </div>

    <!-- OVERLAY MENU -->
    <div id="overlay-menu" class="overlay-menu">
      <a href="#" id="overlay-menu-hide" class="navigation-hide">
        <i class="ion-close-round"></i>
      </a>

      <div class="overlay-menu-inner">
        <nav class="overlay-menu-nav">
          <ul id="nav">
            <li><a href="../index.html">Home</a></li>

            <li class="slidedown">
              <a href="#">Portfolio</a>
              <ul>
                <li>
                  <a href="https://github.com/vonds/exit_0" target="_blank">
                    exit_0
                  </a>
                </li>
                <li>
                  <a href="https://github.com/vonds/sentinel" target="_blank">
                    Sentinel
                  </a>
                </li>
                <li>
                  <a href="docs.html" target="_blank">exit_0 Documentation</a>
                </li>
              </ul>
            </li>

            <li>
              <a
                href="https://www.linkedin.com/in/vonds/"
                target="_blank"
                rel="noopener"
              >
                LinkedIn
              </a>
            </li>
            <li>
              <a href="https://github.com/vonds" target="_blank" rel="noopener">
                Github
              </a>
            </li>
            <li>
              <a href="mailto:vonds13@gmail.com?subject=Hello Vonds">Contact</a>
            </li>
          </ul>
        </nav>
      </div>

      <div class="overlay-navigation-footer">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 text-center">
              <p class="copyright font-alt m-b-0">
                VONDS &copy;
                <script>
                  document.write(new Date().getFullYear())
                </script>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- WRAPPER -->
    <div class="wrapper">
      <!-- NAVIGATION -->
      <nav
        class="navbar navbar-custom navbar-transparent navbar-light navbar-fixed-top"
      >
        <div class="container">
          <div class="navbar-header">
            <a class="navbar-brand" href="../index.html">
              <img src="../assets/images/logo-dark.png" width="95" alt="" />
            </a>
          </div>

          <ul id="icons-navbar" class="nav navbar-nav navbar-right">
            <li>
              <a href="#" id="toggle-menu" class="show-overlay" title="Menu">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </a>
            </li>
          </ul>
        </div>
      </nav>

      <!-- DOCS PAGE -->
      <section class="module">
        <div class="container">
          <h2 class="font-alt module-title m-t-60">
            Lab 46: System Logs Monitor (/var/log)
          </h2>

          <nav class="lab-pagination">
            <a
              id="prev-lab"
              class="lab-nav-link"
              href="#"
              aria-label="Previous lab"
            >
              &laquo;
            </a>
            <a
              id="next-lab"
              class="lab-nav-link"
              href="#"
              aria-label="Next lab"
            >
              &raquo;
            </a>
          </nav>

          <div class="row">
            <!-- LEFT SIDEBAR -->
            <div class="col-sm-4 col-md-3 lab-sidebar">
              <div class="docs-sidebar">
                <div class="docs-widget">
                  <h5 class="widget-title">
                    <a href="./docs.html">Back to Lab Index</a>
                  </h5>
                  <ul class="docs-nav">
                    <li><a href="#scenario">Scenario</a></li>
                    <li><a href="#objective">Objective</a></li>
                    <li><a href="#concepts">Concepts</a></li>
                    <li><a href="#walkthrough">Walkthrough</a></li>
                    <li><a href="#breakpoints">Breakpoints</a></li>
                    <li><a href="#cleanup">Cleanup</a></li>
                    <li><a href="#reference">Reference</a></li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- MAIN CONTENT -->
            <div class="col-sm-8 col-md-9 lab-doc">
              <p class="m-b-20 lab-summary">
                Investigate failed SSH attempts and missing scheduled-task output
                by reviewing common logs under
                <code>/var/log</code>
                . Use targeted filtering and simple counting to quantify activity
                and confirm what happened.
              </p>

              <!-- Video (kept on page; removed from left panel) -->
              <section class="lab-section" id="video" aria-label="Lab video">
                <div class="lab-video">
                  <div class="lab-video-embed text-center">
                    <iframe
                      src="https://www.youtube.com/embed/uJk54bhaadA?si=seGSukCoMFN7ohRo"
                      title="YouTube video player"
                      frameborder="0"
                      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                      referrerpolicy="strict-origin-when-cross-origin"
                      allowfullscreen
                    ></iframe>
                  </div>
                </div>
              </section>

              <!-- Scenario -->
              <section class="lab-section" id="scenario">
                <div class="lab-chips" aria-label="Tags">
                  <span class="lab-chip">
                    <span class="lab-chip-key">troubleshooting</span>
                  </span>
                  <span class="lab-chip">
                    <span class="lab-chip-key">security</span>
                  </span>
                  <span class="lab-chip">
                    <span class="lab-chip-key">services</span>
                  </span>
                </div>

                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Scenario
                </h3>

                <p>
                  The web server team reports two issues: repeated SSH login
                  failures and cron jobs that appear to run but do not produce
                  expected output. Your task is to review logs in
                  <code>/var/log</code>
                  to confirm what happened, isolate relevant entries, and
                  quantify activity.
                </p>

                <div class="lab-callout">
                  <div class="lab-callout-label">Operator context</div>
                  <p class="m-b-0">
                    This is a fast triage workflow: verify the signal, collect
                    evidence, and decide whether you are dealing with brute-force
                    attempts, a misconfigured job, or a logging gap.
                  </p>
                </div>
              </section>

              <!-- Objective -->
              <section class="lab-section alt-background" id="objective">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Objective
                </h3>
                <ul>
                  <li>
                    Confirm which log files record general system events and
                    authentication activity.
                  </li>
                  <li>
                    Filter authentication logs to extract failed SSH attempts.
                  </li>
                  <li>
                    Confirm cron logging exists and review execution entries.
                  </li>
                  <li>
                    Monitor live log updates to observe events in real time.
                  </li>
                  <li>
                    Count SSH-related log entries to quantify activity for
                    reporting.
                  </li>
                </ul>
              </section>

              <!-- Concepts (no alt-background moving forward) -->
              <section class="lab-section" id="concepts">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Concepts
                </h3>
                <ul>
                  <li>
                    Traditional log layout under
                    <code>/var/log</code>
                    and distro differences in file naming.
                  </li>
                  <li>
                    Efficient large-file review using
                    <code>less</code>
                    and targeted filtering with
                    <code>grep</code>
                    .
                  </li>
                  <li>
                    Authentication log signal: “failed password” versus “accepted
                    password” and invalid-user probes.
                  </li>
                  <li>
                    Cron execution evidence: proving a job triggered versus
                    proving a job produced output.
                  </li>
                  <li>
                    Real-time observation using
                    <code>tail -f</code>
                    while reproducing an event.
                  </li>
                  <li>
                    Counting events with
                    <code>wc -l</code>
                    to create a first-pass metric.
                  </li>
                </ul>
              </section>

              <!-- Walkthrough -->
              <section class="lab-section alt-background" id="walkthrough">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Walkthrough
                </h3>

                <!-- Step 1 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 1</strong>
                    : Identify the available logs under /var/log.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Command</span>
                      <button
                        class="lab-copy-btn"
                        type="button"
                        data-copy="#cmd-step-1"
                      >
                        Copy
                      </button>
                    </div>
                    <pre><code id="cmd-step-1">ls -lh /var/log</code></pre>
                  </div>

                  <p>
                    Start by confirming what files exist. Log file names and
                    locations vary by distro and by whether the host is using
                    rsyslog, syslog-ng, or journald forwarding. This step
                    prevents you from searching for a file that is not used on
                    the system.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code># Look for auth and system logs:
# auth.log, secure, syslog, messages, cron, cron.log</code></pre>
                  </div>
                </div>

                <!-- Step 2 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 2</strong>
                    : Review general system events.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Commands</span>
                      <button
                        class="lab-copy-btn"
                        type="button"
                        data-copy="#cmd-step-2"
                      >
                        Copy
                      </button>
                    </div>
                    <pre><code id="cmd-step-2">less /var/log/syslog
# OR (common on some distros)
less /var/log/messages</code></pre>
                  </div>

                  <p>
                    General logs provide context around service restarts, session
                    activity, and system state changes. This is where you can
                    correlate authentication spikes with reboots, network flaps,
                    or service reloads.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code># Use / in less to search for keywords:
# sshd, CRON, systemd, error, warning</code></pre>
                  </div>
                </div>

                <!-- Step 3 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 3</strong>
                    : Extract failed SSH attempts from authentication logs.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Command</span>
                      <button
                        class="lab-copy-btn"
                        type="button"
                        data-copy="#cmd-step-3"
                      >
                        Copy
                      </button>
                    </div>
                    <pre><code id="cmd-step-3">grep "Failed password" /var/log/auth.log</code></pre>
                  </div>

                  <p>
                    Authentication logs are the source of truth for SSH login
                    failures. Filtering on
                    <code>Failed password</code>
                    isolates failed attempts and helps you distinguish
                    brute-force behavior from normal user error.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code># Common patterns:
# Failed password for invalid user <user> from <ip> port <port> ssh2
# Failed password for <user> from <ip> port <port> ssh2</code></pre>
                  </div>
                </div>

                <!-- Step 4 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 4</strong>
                    : Confirm cron logging exists and review execution entries.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Commands</span>
                      <button
                        class="lab-copy-btn"
                        type="button"
                        data-copy="#cmd-step-4"
                      >
                        Copy
                      </button>
                    </div>
                    <pre><code id="cmd-step-4">ls /var/log/cron*
# Then review:
less /var/log/cron</code></pre>
                  </div>

                  <p>
                    Cron activity is logged in different places depending on the
                    distro and logging stack. Cron logs confirm that the
                    scheduler executed a command under a specific user context.
                    If output is missing, cron logs help you prove the trigger
                    happened before you pivot to script paths, environment, and
                    redirection.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code># Look for entries like:
# CRON[pid]: (user) CMD (<command>)</code></pre>
                  </div>
                </div>

                <!-- Step 5 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 5</strong>
                    : Monitor log updates in real time while reproducing an event.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Commands</span>
                      <button
                        class="lab-copy-btn"
                        type="button"
                        data-copy="#cmd-step-5"
                      >
                        Copy
                      </button>
                    </div>
                    <pre><code id="cmd-step-5">tail -f /var/log/auth.log
# OR
tail -f /var/log/syslog</code></pre>
                  </div>

                  <p>
                    Live monitoring is useful when you are reproducing a login
                    failure, validating that sshd is writing events, or proving
                    that log updates are flowing. It gives immediate feedback
                    without repeatedly reopening files.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code># Stop tail with Ctrl+C once you capture the evidence window.</code></pre>
                  </div>
                </div>

                <!-- Step 6 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 6</strong>
                    : Quantify SSH-related activity.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Command</span>
                      <button
                        class="lab-copy-btn"
                        type="button"
                        data-copy="#cmd-step-6"
                      >
                        Copy
                      </button>
                    </div>
                    <pre><code id="cmd-step-6">grep sshd /var/log/auth.log | wc -l</code></pre>
                  </div>

                  <p>
                    Counting entries provides a quick metric for reporting. This
                    is not a perfect “attempt counter” (one login can generate
                    multiple lines), but it is a useful first number when you
                    are triaging under time pressure.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code># For a narrower count of failures only:
# grep "Failed password" /var/log/auth.log | wc -l</code></pre>
                  </div>
                </div>
              </section>

              <!-- Common breakpoints -->
              <section class="lab-section" id="breakpoints">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Common breakpoints
                </h3>

                <div class="lab-callout">
                  <div class="lab-callout-label">
                    auth.log does not exist on this host
                  </div>
                  <p class="m-b-0">
                    Some distros log authentication events to
                    <code>/var/log/secure</code>
                    instead. Confirm the available files under
                    <code>/var/log</code>
                    and re-run the same filters against the correct log.
                  </p>
                </div>

                <div class="lab-callout">
                  <div class="lab-callout-label">
                    Cron log is missing or empty
                  </div>
                  <p class="m-b-0">
                    Cron may be logging into the general syslog stream or only
                    into journald. Check
                    <code>/var/log/syslog</code>
                    or
                    <code>/var/log/messages</code>
                    for
                    <code>CRON</code>
                    entries before assuming the scheduler is not running.
                  </p>
                </div>

                <div class="lab-callout">
                  <div class="lab-callout-label">
                    grep output is too noisy or too sparse
                  </div>
                  <p class="m-b-0">
                    Tune the pattern. Target
                    <code>"Failed password"</code>
                    for failures or filter by a known username or IP address.
                    If you suspect rotation, check rotated logs (for example
                    <code>auth.log.1</code>
                    ) before concluding activity stopped.
                  </p>
                </div>

                <div class="lab-callout">
                  <div class="lab-callout-label">
                    tail -f shows no updates during a reproduced event
                  </div>
                  <p class="m-b-0">
                    Confirm you are following the correct file and that the
                    logging pipeline is functioning. If the host uses journald
                    as the primary sink, text logs may not update the way you
                    expect.
                  </p>
                </div>
              </section>

              <!-- Cleanup -->
              <section class="lab-section alt-background" id="cleanup">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Cleanup checklist
                </h3>

                <p>
                  This lab is read-only. Your cleanup is to capture evidence
                  (filtered outputs and timestamps) and stop any live-follow
                  sessions once you have the required window.
                </p>

                <div class="lab-codeblock m-b-40 m-t-40">
                  <div class="lab-codeblock-header">
                    <span>Commands</span>
                    <button
                      class="lab-copy-btn"
                      type="button"
                      data-copy="#cmd-cleanup"
                    >
                      Copy
                    </button>
                  </div>
                  <pre><code id="cmd-cleanup">ls -lh /var/log
grep "Failed password" /var/log/auth.log
ls /var/log/cron*
less /var/log/cron</code></pre>
                </div>

                <div class="lab-callout">
                  <div class="lab-callout-label">Success signal</div>
                  <p class="m-b-0">
                    You can point to the exact log lines that prove the
                    authentication failures and cron execution activity, and you
                    have a count suitable for reporting.
                  </p>
                </div>
              </section>

              <!-- Reference -->
              <section class="lab-section" id="reference">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Reference
                </h3>

                <ul class="lab-reference-list">
                  <li>
                    <code>ls -lh /var/log</code>
                    : Lists log files with sizes and timestamps.
                    <ul>
                      <li>
                        <code>-l</code>
                        : Long listing format.
                      </li>
                      <li>
                        <code>-h</code>
                        : Human-readable sizes.
                      </li>
                      <li>
                        <code>/var/log</code>
                        : Standard directory for traditional text logs.
                      </li>
                    </ul>
                  </li>

                  <li>
                    <code>less &lt;file&gt;</code>
                    : Reads a log file interactively.
                    <ul>
                      <li>
                        <code>/</code>
                        : Search forward for a pattern.
                      </li>
                      <li>
                        <code>q</code>
                        : Quit.
                      </li>
                    </ul>
                  </li>

                  <li>
                    <code>grep &lt;pattern&gt; &lt;file&gt;</code>
                    : Filters lines matching a pattern.
                    <ul>
                      <li>
                        <code>"Failed password"</code>
                        : Common sshd failure string in authentication logs.
                      </li>
                    </ul>
                  </li>

                  <li>
                    <code>ls /var/log/cron*</code>
                    : Confirms cron log files and rotated variants exist.
                    <ul>
                      <li>
                        <code>*</code>
                        : Shell glob matching rotated files (for example
                        <code>cron.1</code>
                        ).
                      </li>
                    </ul>
                  </li>

                  <li>
                    <code>tail -f &lt;file&gt;</code>
                    : Follows a file as new lines are appended.
                    <ul>
                      <li>
                        <code>-f</code>
                        : Follow updates as the file grows.
                      </li>
                    </ul>
                  </li>

                  <li>
                    <code>grep &lt;pattern&gt; &lt;file&gt; | wc -l</code>
                    : Counts matching log lines.
                    <ul>
                      <li>
                        <code>|</code>
                        : Pipes output from the left command into the right
                        command.
                      </li>
                      <li>
                        <code>wc -l</code>
                        : Counts lines.
                      </li>
                    </ul>
                  </li>
                </ul>
              </section>
            </div>
            <!-- /main -->
          </div>
          <!-- /row -->
        </div>
        <!-- /container -->
      </section>

      <!-- FOOTER -->
      <footer class="module bg-light">
        <div class="container">
          <div class="row">
            <div class="col-sm-12">
              <ul class="social-text-links font-alt text-center m-b-20">
                <li>
                  <a
                    href="https://github.com/vonds"
                    target="_blank"
                    rel="noopener"
                  >
                    Github
                  </a>
                </li>
                <li>
                  <a
                    href="https://www.linkedin.com/in/vonds/"
                    target="_blank"
                    rel="noopener"
                  >
                    Linkedin
                  </a>
                </li>
              </ul>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-12">
              <p class="copyright text-center m-b-0">
                VONDS &copy;
                <span id="year"></span>
              </p>

              <div class="scroll-up">
                <a href="#totop"><i class="fa fa-angle-double-up"></i></a>
              </div>
            </div>
          </div>
        </div>
      </footer>
    </div>

    <!-- Javascript files (your existing) -->
    <script src="../assets/js/jquery-2.2.4.min.js"></script>
    <script src="../assets/bootstrap/js/bootstrap.min.css"></script>
    <script src="../assets/js/jquery.superslides.min.js"></script>
    <script src="../assets/js/jquery.mb.YTPlayer.min.js"></script>
    <script src="../assets/js/jquery.magnific-popup.min.js"></script>
    <script src="../assets/js/owl.carousel.min.js"></script>
    <script src="../assets/js/jquery.simple-text-rotator.min.js"></script>
    <script src="../assets/js/imagesloaded.pkgd.js"></script>
    <script src="../assets/js/isotope.pkgd.min.js"></script>
    <script src="../assets/js/packery-mode.pkgd.min.js"></script>
    <script src="../assets/js/appear.js"></script>
    <script src="../assets/js/jquery.easing.1.3.js"></script>
    <script src="../assets/js/wow.min.js"></script>
    <script src="../assets/js/jqBootstrapValidation.js"></script>
    <script src="../assets/js/jquery.fitvids.js"></script>
    <script src="../assets/js/jquery.parallax-1.1.3.js"></script>
    <script src="../assets/js/smoothscroll.js"></script>
    <script src="../assets/js/custom.js"></script>

    <!-- Lab page JS (new) -->
    <script src="../assets/js/lab.js"></script>

    <script>
      document.getElementById('year').textContent = new Date().getFullYear()
    </script>
  </body>
</html>
