<!-- lab084.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="exit_0 Documentation" />
    <meta name="name" content="Vonds" />

    <title>Vonds | Lab 084</title>

    <!-- Favicons -->
    <link rel="shortcut icon" href="../assets/images/favicon.png" />
    <link rel="apple-touch-icon" href="../assets/images/apple-touch-icon.png" />
    <link
      rel="apple-touch-icon"
      sizes="72x72"
      href="../assets/images/apple-touch-icon-72x72.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="../assets/images/apple-touch-icon-114x114.png"
    />

    <!-- Site styles (your existing) -->
    <link href="../assets/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="../assets/css/font-awesome.min.css" rel="stylesheet" />
    <link href="../assets/css/linea-icons.css" rel="stylesheet" />
    <link href="../assets/css/ionicons.min.css" rel="stylesheet" />
    <link href="../assets/css/simpletextrotator.css" rel="stylesheet" />
    <link href="../assets/css/magnific-popup.css" rel="stylesheet" />
    <link href="../assets/css/owl.carousel.css" rel="stylesheet" />
    <link href="../assets/css/superslides.css" rel="stylesheet" />
    <link href="../assets/css/vertical.css" rel="stylesheet" />
    <link href="../assets/css/animate.css" rel="stylesheet" />
    <link href="../assets/css/style.css" rel="stylesheet" />
    <link href="../assets/css/docs.css" rel="stylesheet" />

    <!-- Lab page styles -->
    <link href="../assets/css/lab.css" rel="stylesheet" />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Dosis" rel="stylesheet" />
  </head>

  <body>
    <!-- PRELOADER -->
    <div class="page-loader">
      <div class="loader">Loading...</div>
    </div>

    <!-- OVERLAY MENU -->
    <div id="overlay-menu" class="overlay-menu">
      <a href="#" id="overlay-menu-hide" class="navigation-hide">
        <i class="ion-close-round"></i>
      </a>

      <div class="overlay-menu-inner">
        <nav class="overlay-menu-nav">
          <ul id="nav">
            <li><a href="../index.html">Home</a></li>

            <li class="slidedown">
              <a href="#">Portfolio</a>
              <ul>
                <li>
                  <a
                    href="https://github.com/vonds/exit_0"
                    target="_blank"
                    rel="noopener"
                  >
                    exit_0
                  </a>
                </li>
                <li>
                  <a
                    href="https://github.com/vonds/sentinel"
                    target="_blank"
                    rel="noopener"
                  >
                    Sentinel
                  </a>
                </li>
              </ul>
            </li>

            <li>
              <a
                href="https://www.linkedin.com/in/vonds/"
                target="_blank"
                rel="noopener"
              >
                LinkedIn
              </a>
            </li>
            <li>
              <a href="https://github.com/vonds" target="_blank" rel="noopener">
                Github
              </a>
            </li>
            <li>
              <a href="mailto:vonds13@gmail.com?subject=Hello Vonds">Contact</a>
            </li>
          </ul>
        </nav>
      </div>

      <div class="overlay-navigation-footer">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 text-center">
              <p class="copyright font-alt m-b-0">
                VONDS &copy;
                <script>
                  document.write(new Date().getFullYear())
                </script>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- WRAPPER -->
    <div class="wrapper">
      <!-- NAVIGATION -->
      <nav
        class="navbar navbar-custom navbar-transparent navbar-light navbar-fixed-top"
      >
        <div class="container">
          <div class="navbar-header">
            <a class="navbar-brand" href="../index.html">
              <img src="../assets/images/logo-dark.png" width="95" alt="" />
            </a>
          </div>

          <ul id="icons-navbar" class="nav navbar-nav navbar-right">
            <li>
              <a href="#" id="toggle-menu" class="show-overlay" title="Menu">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </a>
            </li>
          </ul>
        </div>
      </nav>

      <!-- DOCS PAGE -->
      <section class="module">
        <div class="container">
          <h2 class="font-alt module-title m-t-60">
            Lab 84: Setting Up a Proxy Server with Squid
          </h2>

          <nav class="lab-pagination">
            <a id="prev-lab" class="lab-nav-link" href="#" aria-label="Previous lab">
              &laquo;
            </a>
            <a id="next-lab" class="lab-nav-link" href="#" aria-label="Next lab">
              &raquo;
            </a>
          </nav>

          <div class="row">
            <!-- LEFT SIDEBAR -->
            <div class="col-sm-4 col-md-3 lab-sidebar">
              <div class="docs-sidebar">
                <div class="docs-widget">
                  <h5 class="widget-title">
                    <a href="./docs.html">Back to Lab Index</a>
                  </h5>
                  <ul class="docs-nav">
                    <li><a href="#scenario">Scenario</a></li>
                    <li><a href="#objective">Objective</a></li>
                    <li><a href="#concepts">Concepts</a></li>
                    <li><a href="#walkthrough">Walkthrough</a></li>
                    <li><a href="#breakpoints">Breakpoints</a></li>
                    <li><a href="#cleanup">Cleanup</a></li>
                    <li><a href="#reference">Reference</a></li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- MAIN CONTENT -->
            <div class="col-sm-8 col-md-9 lab-doc">
              <!-- Summary (2 sentences max) -->
              <p class="m-b-20 lab-summary">
                Install and bring up Squid as a basic HTTP proxy service. Verify the service is enabled and confirm it is listening on port 3128.
              </p>

              <!-- Optional Video (leave in place; swap src when you have it) -->
              <section class="lab-section" id="video" aria-label="Lab video">
                <div class="lab-video">
                  <div class="lab-video-embed text-center">
                    <iframe
                      width="560"
                      height="315"
                      src="https://www.youtube.com/embed/REPLACE_ME"
                      title="YouTube video player"
                      frameborder="0"
                      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                      referrerpolicy="strict-origin-when-cross-origin"
                      allowfullscreen
                    ></iframe>
                  </div>
                </div>
              </section>

              <!-- Scenario -->
              <section class="lab-section" id="scenario">
                <div class="lab-chips" aria-label="Tags">
                  <span class="lab-chip"><span class="lab-chip-key">networking</span></span>
                  <span class="lab-chip"><span class="lab-chip-key">proxy</span></span>
                  <span class="lab-chip"><span class="lab-chip-key">services</span></span>
                </div>

                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Scenario
                </h3>

                <p>
                  A small internal environment needs a forward proxy to route outbound web traffic through a single controlled point. Your task
                  is to install Squid, bring it online with systemd, and prove it is listening on the default proxy port before you introduce
                  access controls, auth, or caching policies.
                </p>

                <div class="lab-callout">
                  <div class="lab-callout-label">Operator context</div>
                  <p class="m-b-0">
                    This is a standard “bring the service online” workflow: install, enable, verify listener state, and confirm the port is
                    reachable. Hardening comes after baseline functionality is proven.
                  </p>
                </div>
              </section>

              <!-- Objective -->
              <section class="lab-section alt-background" id="objective">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Objective
                </h3>

                <ul>
                  <li>Install Squid using your distro’s package manager.</li>
                  <li>Enable and start the Squid service with systemd.</li>
                  <li>Confirm Squid is listening on port <code>3128</code>.</li>
                </ul>
              </section>

              <!-- Concepts -->
              <section class="lab-section" id="concepts">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Concepts
                </h3>

                <ul>
                  <li>
                    Squid is a forward proxy: clients connect to Squid, and Squid fetches content on their behalf.
                  </li>
                  <li>
                    The default proxy listener is TCP <code>3128</code> unless overridden in Squid configuration.
                  </li>
                  <li>
                    Readiness proof is socket-level first (<code>ss</code>), then behavior-level (client tests with <code>curl</code>).
                  </li>
                </ul>
              </section>

              <!-- Walkthrough -->
              <section class="lab-section alt-background" id="walkthrough">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Walkthrough
                </h3>

                <!-- Step 1 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 1</strong>
                    : Install Squid.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Commands</span>
                      <button class="lab-copy-btn" type="button" data-copy="#cmd-step-1">
                        Copy
                      </button>
                    </div>
                    <pre><code id="cmd-step-1"># Debian/Ubuntu
sudo apt update
sudo apt install -y squid

# RHEL / Fedora / CentOS
sudo dnf install -y squid
# or (older flows)
sudo yum install -y squid

# Arch
sudo pacman -S squid</code></pre>
                  </div>

                  <p>
                    Installing Squid lays down the default configuration and systemd unit required to start the proxy.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code># Example result (varies by distro):
# squid installed successfully.</code></pre>
                  </div>
                </div>

                <!-- Step 2 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 2</strong>
                    : Enable and start Squid.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Command</span>
                      <button class="lab-copy-btn" type="button" data-copy="#cmd-step-2">
                        Copy
                      </button>
                    </div>
                    <pre><code id="cmd-step-2">sudo systemctl enable --now squid</code></pre>
                  </div>

                  <p>
                    This starts Squid immediately and ensures it will start at boot. If it fails, inspect status and logs before changing config.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code># Quick verification:
systemctl status squid --no-pager</code></pre>
                  </div>
                </div>

                <!-- Step 3 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 3</strong>
                    : Confirm Squid is listening on port 3128.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Command</span>
                      <button class="lab-copy-btn" type="button" data-copy="#cmd-step-3">
                        Copy
                      </button>
                    </div>
                    <pre><code id="cmd-step-3">sudo ss -lntp | grep -E ':\b3128\b' || true</code></pre>
                  </div>

                  <p>
                    This proves Squid has successfully bound to the proxy listener. If nothing is listening, the service may not be running, or the
                    port may be overridden in configuration.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code># Example:
LISTEN 0 128 0.0.0.0:3128 ... squid
LISTEN 0 128 [::]:3128    ... squid</code></pre>
                  </div>
                </div>

                <!-- Step 4 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 4</strong>
                    : (Optional) Prove proxy behavior with a local test request.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Commands</span>
                      <button class="lab-copy-btn" type="button" data-copy="#cmd-step-4">
                        Copy
                      </button>
                    </div>
                    <pre><code id="cmd-step-4"># A simple behavior-level check (uses Squid as an HTTP proxy):
curl -I -x http://localhost:3128 http://example.com</code></pre>
                  </div>

                  <p>
                    This confirms the end-to-end path: client connects to Squid, Squid makes an outbound request, and you receive an HTTP response.
                    If this fails, check Squid logs and ACL defaults.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code># Example (varies):
HTTP/1.1 200 OK</code></pre>
                  </div>
                </div>
              </section>

              <!-- Breakpoints -->
              <section class="lab-section" id="breakpoints">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Breakpoints
                </h3>

                <div class="lab-callout">
                  <div class="lab-callout-label">Port 3128 not listening</div>
                  <p class="m-b-0">
                    Confirm the service is active, then check logs for startup failures. Verify the configured listener port in
                    <code>/etc/squid/squid.conf</code> (commonly <code>http_port 3128</code>).
                  </p>
                </div>

                <div class="lab-callout">
                  <div class="lab-callout-label">Service fails to start</div>
                  <p class="m-b-0">
                    Check <code>systemctl status squid</code> and <code>journalctl -u squid</code>. Common issues include config syntax errors,
                    permission problems, or a port conflict.
                  </p>
                </div>

                <div class="lab-callout">
                  <div class="lab-callout-label">Proxy request denied</div>
                  <p class="m-b-0">
                    Squid ACLs may block traffic by default in some distros. Verify you can reach the listener first, then review ACL behavior in
                    <code>/etc/squid/squid.conf</code>.
                  </p>
                </div>
              </section>

              <!-- Cleanup -->
              <section class="lab-section alt-background" id="cleanup">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Cleanup checklist
                </h3>

                <p>
                  Disable the proxy service if you don’t want it running after practice. Remove packages only if you’re done with the lab.
                </p>

                <div class="lab-codeblock m-b-40 m-t-40">
                  <div class="lab-codeblock-header">
                    <span>Commands</span>
                    <button class="lab-copy-btn" type="button" data-copy="#cmd-cleanup">
                      Copy
                    </button>
                  </div>
                  <pre><code id="cmd-cleanup"># Stop/disable the service
sudo systemctl disable --now squid

# Optional: remove package (choose your distro)
# Debian/Ubuntu
# sudo apt remove -y squid

# RHEL-family
# sudo dnf remove -y squid

# Arch
# sudo pacman -R squid</code></pre>
                </div>
              </section>

              <!-- Reference (minimal; command listed once; sub-bullets only for flags/options) -->
              <section class="lab-section" id="reference">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Reference
                </h3>

                <ul class="lab-reference-list">
                  <li>
                    <code>apt install squid</code>: Install Squid on Debian/Ubuntu.
                    <ul>
                      <li><code>-y</code>: assume “yes” to prompts</li>
                    </ul>
                  </li>

                  <li>
                    <code>dnf install squid</code>: Install Squid on RHEL-family systems.
                    <ul>
                      <li><code>-y</code>: assume “yes” to prompts</li>
                    </ul>
                  </li>

                  <li>
                    <code>pacman -S squid</code>: Install Squid on Arch.
                  </li>

                  <li>
                    <code>systemctl enable --now squid</code>: Enable at boot and start immediately.
                    <ul>
                      <li><code>enable</code>: start at boot</li>
                      <li><code>--now</code>: start immediately</li>
                    </ul>
                  </li>

                  <li>
                    <code>systemctl status squid</code>: Check Squid service state.
                    <ul>
                      <li><code>--no-pager</code>: print directly</li>
                    </ul>
                  </li>

                  <li>
                    <code>ss -lntp</code>: Show listening TCP sockets and owning processes.
                    <ul>
                      <li><code>-l</code>: listening sockets</li>
                      <li><code>-n</code>: numeric output</li>
                      <li><code>-t</code>: TCP sockets</li>
                      <li><code>-p</code>: process info</li>
                    </ul>
                  </li>

                  <li>
                    <code>curl -I -x http://localhost:3128 http://example.com</code>: Validate proxy behavior using Squid as an HTTP proxy.
                    <ul>
                      <li><code>-I</code>: headers only</li>
                      <li><code>-x</code>: proxy URL</li>
                    </ul>
                  </li>

                  <li>
                    <code>journalctl -u squid</code>: View Squid logs from systemd.
                    <ul>
                      <li><code>-n 50</code>: last 50 lines</li>
                      <li><code>--no-pager</code>: print directly</li>
                    </ul>
                  </li>

                  <li>
                    <code>/etc/squid/squid.conf</code>: Primary Squid configuration file on many distros.
                  </li>

                  <li>
                    <code>3128</code>: Default Squid proxy port (unless overridden).
                  </li>
                </ul>
              </section>
            </div>
            <!-- /main -->
          </div>
          <!-- /row -->

          <nav class="lab-pagination">
            <a id="prev-lab" class="lab-nav-link" href="#" aria-label="Back to top">
              &uArr;
            </a>
          </nav>
        </div>
        <!-- /container -->
      </section>

      <!-- FOOTER -->
      <footer class="module bg-light">
        <div class="container">
          <div class="row">
            <div class="col-sm-12">
              <ul class="social-text-links font-alt text-center m-b-20">
                <li>
                  <a
                    href="https://github.com/vonds"
                    target="_blank"
                    rel="noopener"
                  >
                    Github
                  </a>
                </li>
                <li>
                  <a
                    href="https://www.linkedin.com/in/vonds/"
                    target="_blank"
                    rel="noopener"
                  >
                    Linkedin
                  </a>
                </li>
              </ul>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-12">
              <p class="copyright text-center m-b-0">
                VONDS &copy;
                <span id="year"></span>
              </p>

              <div class="scroll-up">
                <a href="#totop"><i class="fa fa-angle-double-up"></i></a>
              </div>
            </div>
          </div>
        </div>
      </footer>
    </div>

    <!-- Javascript files (your existing) -->
    <script src="../assets/js/jquery-2.2.4.min.js"></script>
    <script src="../assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="../assets/js/jquery.superslides.min.js"></script>
    <script src="../assets/js/jquery.mb.YTPlayer.min.js"></script>
    <script src="../assets/js/jquery.magnific-popup.min.js"></script>
    <script src="../assets/js/owl.carousel.min.js"></script>
    <script src="../assets/js/jquery.simple-text-rotator.min.js"></script>
    <script src="../assets/js/imagesloaded.pkgd.js"></script>
    <script src="../assets/js/isotope.pkgd.min.js"></script>
    <script src="../assets/js/packery-mode.pkgd.min.js"></script>
    <script src="../assets/js/appear.js"></script>
    <script src="../assets/js/jquery.easing.1.3.js"></script>
    <script src="../assets/js/wow.min.js"></script>
    <script src="../assets/js/jqBootstrapValidation.js"></script>
    <script src="../assets/js/jquery.fitvids.js"></script>
    <script src="../assets/js/jquery.parallax-1.1.3.js"></script>
    <script src="../assets/js/smoothscroll.js"></script>
    <script src="../assets/js/custom.js"></script>

    <!-- Lab page JS -->
    <script src="../assets/js/lab.js"></script>
  </body>
</html>
