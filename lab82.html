<!-- lab082.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="exit_0 Documentation" />
    <meta name="name" content="Vonds" />

    <title>Vonds | Lab 082</title>

    <!-- Favicons -->
    <link rel="shortcut icon" href="../assets/images/favicon.png" />
    <link rel="apple-touch-icon" href="../assets/images/apple-touch-icon.png" />
    <link
      rel="apple-touch-icon"
      sizes="72x72"
      href="../assets/images/apple-touch-icon-72x72.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="../assets/images/apple-touch-icon-114x114.png"
    />

    <!-- Site styles (your existing) -->
    <link href="../assets/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="../assets/css/font-awesome.min.css" rel="stylesheet" />
    <link href="../assets/css/linea-icons.css" rel="stylesheet" />
    <link href="../assets/css/ionicons.min.css" rel="stylesheet" />
    <link href="../assets/css/simpletextrotator.css" rel="stylesheet" />
    <link href="../assets/css/magnific-popup.css" rel="stylesheet" />
    <link href="../assets/css/owl.carousel.css" rel="stylesheet" />
    <link href="../assets/css/superslides.css" rel="stylesheet" />
    <link href="../assets/css/vertical.css" rel="stylesheet" />
    <link href="../assets/css/animate.css" rel="stylesheet" />
    <link href="../assets/css/style.css" rel="stylesheet" />
    <link href="../assets/css/docs.css" rel="stylesheet" />

    <!-- Lab page styles -->
    <link href="../assets/css/lab.css" rel="stylesheet" />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Dosis" rel="stylesheet" />
  </head>

  <body>
    <!-- PRELOADER -->
    <div class="page-loader">
      <div class="loader">Loading...</div>
    </div>

    <!-- OVERLAY MENU -->
    <div id="overlay-menu" class="overlay-menu">
      <a href="#" id="overlay-menu-hide" class="navigation-hide">
        <i class="ion-close-round"></i>
      </a>

      <div class="overlay-menu-inner">
        <nav class="overlay-menu-nav">
          <ul id="nav">
            <li><a href="../index.html">Home</a></li>

            <li class="slidedown">
              <a href="#">Portfolio</a>
              <ul>
                <li>
                  <a
                    href="https://github.com/vonds/exit_0"
                    target="_blank"
                    rel="noopener"
                  >
                    exit_0
                  </a>
                </li>
                <li>
                  <a
                    href="https://github.com/vonds/sentinel"
                    target="_blank"
                    rel="noopener"
                  >
                    Sentinel
                  </a>
                </li>
              </ul>
            </li>

            <li>
              <a
                href="https://www.linkedin.com/in/vonds/"
                target="_blank"
                rel="noopener"
              >
                LinkedIn
              </a>
            </li>
            <li>
              <a href="https://github.com/vonds" target="_blank" rel="noopener">
                Github
              </a>
            </li>
            <li>
              <a href="mailto:vonds13@gmail.com?subject=Hello Vonds">Contact</a>
            </li>
          </ul>
        </nav>
      </div>

      <div class="overlay-navigation-footer">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 text-center">
              <p class="copyright font-alt m-b-0">
                VONDS &copy;
                <script>
                  document.write(new Date().getFullYear())
                </script>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- WRAPPER -->
    <div class="wrapper">
      <!-- NAVIGATION -->
      <nav
        class="navbar navbar-custom navbar-transparent navbar-light navbar-fixed-top"
      >
        <div class="container">
          <div class="navbar-header">
            <a class="navbar-brand" href="../index.html">
              <img src="../assets/images/logo-dark.png" width="95" alt="" />
            </a>
          </div>

        <ul id="icons-navbar" class="nav navbar-nav navbar-right">
          <li>
            <a href="#" id="toggle-menu" class="show-overlay" title="Menu">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
          </li>
        </ul>
        </div>
      </nav>

      <!-- DOCS PAGE -->
      <section class="module">
        <div class="container">
          <h2 class="font-alt module-title m-t-60">
            Lab 82: Installing, Validating, and Managing Nginx
          </h2>

          <nav class="lab-pagination">
            <a id="prev-lab" class="lab-nav-link" href="#" aria-label="Previous lab">
              &laquo;
            </a>
            <a id="next-lab" class="lab-nav-link" href="#" aria-label="Next lab">
              &raquo;
            </a>
          </nav>

          <div class="row">
            <!-- LEFT SIDEBAR -->
            <div class="col-sm-4 col-md-3 lab-sidebar">
              <div class="docs-sidebar">
                <div class="docs-widget">
                  <h5 class="widget-title">
                    <a href="./docs.html">Back to Lab Index</a>
                  </h5>
                  <ul class="docs-nav">
                    <li><a href="#scenario">Scenario</a></li>
                    <li><a href="#objective">Objective</a></li>
                    <li><a href="#concepts">Concepts</a></li>
                    <li><a href="#walkthrough">Walkthrough</a></li>
                    <li><a href="#breakpoints">Breakpoints</a></li>
                    <li><a href="#cleanup">Cleanup</a></li>
                    <li><a href="#reference">Reference</a></li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- MAIN CONTENT -->
            <div class="col-sm-8 col-md-9 lab-doc">
              <!-- Summary (2 sentences max) -->
              <p class="m-b-20 lab-summary">
                Install and bring up Nginx so it can sit in front of an internal app as a reverse proxy. Validate configuration syntax,
                reload safely, and confirm the service is listening on port 80.
              </p>

              <!-- Optional Video -->
              <section class="lab-section" id="video" aria-label="Lab video">
                <div class="lab-video">
                  <div class="lab-video-embed text-center">
                    <iframe
                      width="560"
                      height="315"
                      src="https://www.youtube.com/embed/PBoK2kPNic0?si=rm5cGl8z4TWb6xrd"
                      title="YouTube video player"
                      frameborder="0"
                      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                      referrerpolicy="strict-origin-when-cross-origin"
                      allowfullscreen
                    ></iframe>
                  </div>
                </div>
              </section>

              <!-- Scenario -->
              <section class="lab-section" id="scenario">
                <div class="lab-chips" aria-label="Tags">
                  <span class="lab-chip">
                    <span class="lab-chip-key">services</span>
                  </span>
                  <span class="lab-chip">
                    <span class="lab-chip-key">web</span>
                  </span>
                  <span class="lab-chip">
                    <span class="lab-chip-key">networking</span>
                  </span>
                </div>

                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Scenario
                </h3>

                <p>
                  Nginx will sit in front of an internal application as a reverse proxy. You’ve already planned your configuration changes,
                  and now you need to install Nginx, validate its configuration, reload it safely, and confirm that it’s actually serving
                  traffic on the expected port.
                </p>

                <div class="lab-callout">
                  <div class="lab-callout-label">Operator context</div>
                  <p class="m-b-0">
                    This mirrors a safe production workflow: install the service, validate config before applying it, reload (not restart)
                    to avoid unnecessary disruption, then confirm socket-level readiness on the expected port.
                  </p>
                </div>
              </section>

              <!-- Objective -->
              <section class="lab-section alt-background" id="objective">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Objective
                </h3>

                <ul>
                  <li>Install the Nginx package using your distro’s package manager.</li>
                  <li>Enable and start the <code>nginx</code> service so it persists across reboots.</li>
                  <li>Validate Nginx configuration syntax with <code>nginx -t</code>.</li>
                  <li>Reload Nginx and confirm it is listening on <code>:80</code> using <code>ss</code>.</li>
                </ul>
              </section>

              <!-- Concepts -->
              <section class="lab-section" id="concepts">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Concepts
                </h3>

                <ul>
                  <li>
                    A safe change workflow is: validate config (<code>nginx -t</code>), then reload (<code>systemctl reload</code>), then
                    verify listening sockets (<code>ss</code>) and HTTP response (<code>curl</code>).
                  </li>
                  <li>
                    A reload applies updated config without fully restarting worker processes, reducing disruption compared to a restart.
                  </li>
                  <li>
                    “Listening on port 80” is a socket-level check; “serving traffic” is an HTTP-level check. Do both.
                  </li>
                </ul>
              </section>

              <!-- Walkthrough -->
              <section class="lab-section alt-background" id="walkthrough">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Walkthrough
                </h3>

                <!-- Step 1 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 1</strong>
                    : Install the Nginx package.
                  </div>

                  <div class="lab-callout">
                    <div class="lab-callout-label">Note</div>
                    <p class="m-b-0">
                      Use the native package manager for your distro. On RHEL-family systems, prefer <code>dnf</code> over legacy
                      <code>yum</code>.
                    </p>
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Commands</span>
                      <button class="lab-copy-btn" type="button" data-copy="#cmd-step-1">
                        Copy
                      </button>
                    </div>
                    <pre><code id="cmd-step-1"># RHEL / CentOS / Fedora
sudo dnf install -y nginx

# Debian/Ubuntu
sudo apt update
sudo apt install -y nginx

# Arch
sudo pacman -S nginx</code></pre>
                  </div>

                  <p>
                    Installing Nginx provides the service unit, default config layout, and binaries needed to validate syntax and run as a
                    front-end proxy.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code># Example result (varies by distro):
# nginx installed successfully.</code></pre>
                  </div>
                </div>

                <!-- Step 2 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 2</strong>
                    : Enable and start Nginx.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Command</span>
                      <button class="lab-copy-btn" type="button" data-copy="#cmd-step-2">
                        Copy
                      </button>
                    </div>
                    <pre><code id="cmd-step-2">sudo systemctl enable --now nginx</code></pre>
                  </div>

                  <p>
                    This starts Nginx immediately and ensures it comes up on reboot. If the unit fails, inspect status output and recent
                    logs.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code># Quick verification:
systemctl status nginx --no-pager</code></pre>
                  </div>
                </div>

                <!-- Step 3 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 3</strong>
                    : Validate Nginx configuration syntax.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Command</span>
                      <button class="lab-copy-btn" type="button" data-copy="#cmd-step-3">
                        Copy
                      </button>
                    </div>
                    <pre><code id="cmd-step-3">sudo nginx -t</code></pre>
                  </div>

                  <p>
                    Always validate config before applying it. A successful test confirms Nginx can parse the active configuration and is
                    safe to reload.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code>nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful</code></pre>
                  </div>
                </div>

                <!-- Step 4 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 4</strong>
                    : Reload Nginx safely.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Command</span>
                      <button class="lab-copy-btn" type="button" data-copy="#cmd-step-4">
                        Copy
                      </button>
                    </div>
                    <pre><code id="cmd-step-4">sudo systemctl reload nginx</code></pre>
                  </div>

                  <p>
                    Reload applies configuration changes without tearing down the entire service like a restart would. If reload fails,
                    re-run <code>nginx -t</code> and check logs for the exact error.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code># Example:
# Reloaded nginx configuration.</code></pre>
                  </div>
                </div>

                <!-- Step 5 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 5</strong>
                    : Confirm Nginx is listening on port 80.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Command</span>
                      <button class="lab-copy-btn" type="button" data-copy="#cmd-step-5">
                        Copy
                      </button>
                    </div>
                    <pre><code id="cmd-step-5">sudo ss -lntp | grep -E ':\b80\b' || true</code></pre>
                  </div>

                  <p>
                    This is your socket-level readiness check. You should see a listener bound to <code>:80</code>. If you don’t, confirm
                    the unit is active and review logs.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code># Example:
LISTEN 0 511 0.0.0.0:80 ... nginx</code></pre>
                  </div>
                </div>

                <!-- Step 6 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 6</strong>
                    : Prove it serves traffic with a local HTTP request.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Commands</span>
                      <button class="lab-copy-btn" type="button" data-copy="#cmd-step-6">
                        Copy
                      </button>
                    </div>
                    <pre><code id="cmd-step-6">curl -I http://localhost
curl -s http://localhost | head</code></pre>
                  </div>

                  <p>
                    This is the HTTP-level validation. Headers confirm status and server response; the body check ensures you actually get
                    a page back.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code># Example:
HTTP/1.1 200 OK</code></pre>
                  </div>
                </div>
              </section>

              <!-- Breakpoints -->
              <section class="lab-section" id="breakpoints">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Breakpoints
                </h3>

                <div class="lab-callout">
                  <div class="lab-callout-label">nginx -t fails</div>
                  <p class="m-b-0">
                    Do not reload. Fix the reported file/line, then re-run <code>nginx -t</code> until it passes.
                  </p>
                </div>

                <div class="lab-callout">
                  <div class="lab-callout-label">port 80 is already in use</div>
                  <p class="m-b-0">
                    Identify the owning process with <code>ss -lntp</code>. If Apache is running from Lab 81, stop/disable it before you
                    run Nginx on the same host.
                  </p>
                </div>

                <div class="lab-callout">
                  <div class="lab-callout-label">curl connects but returns unexpected content</div>
                  <p class="m-b-0">
                    Confirm which default site config is active for your distro and verify the server block/root path you intended is
                    actually being used.
                  </p>
                </div>
              </section>

              <!-- Cleanup -->
              <section class="lab-section alt-background" id="cleanup">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Cleanup checklist
                </h3>

                <p>
                  If you want to revert to a clean state, disable/stop the service. Remove the package only if you’re done practicing.
                </p>

                <div class="lab-codeblock m-b-40 m-t-40">
                  <div class="lab-codeblock-header">
                    <span>Commands</span>
                    <button class="lab-copy-btn" type="button" data-copy="#cmd-cleanup">
                      Copy
                    </button>
                  </div>
                  <pre><code id="cmd-cleanup"># Stop/disable
sudo systemctl disable --now nginx

# Optional: remove the default web content (paths vary by distro)
# Keep it simple for the lab:
sudo rm -f /usr/share/nginx/html/index.html 2>/dev/null || true
sudo rm -f /var/www/html/index.html 2>/dev/null || true</code></pre>
                </div>
              </section>

              <!-- Reference (minimal; commands listed once; sub-bullets only for options/flags) -->
              <section class="lab-section" id="reference">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">
                  Reference
                </h3>

                <ul class="lab-reference-list">
                  <li>
                    <code>dnf install nginx</code>: Install Nginx on RHEL-family systems.
                  </li>

                  <li>
                    <code>apt install nginx</code>: Install Nginx on Debian/Ubuntu systems.
                  </li>

                  <li>
                    <code>pacman -S nginx</code>: Install Nginx on Arch.
                  </li>

                  <li>
                    <code>systemctl enable --now nginx</code>: Enable at boot and start immediately.
                    <ul>
                      <li><code>enable</code>: start at boot</li>
                      <li><code>--now</code>: start immediately</li>
                    </ul>
                  </li>

                  <li>
                    <code>nginx -t</code>: Validate configuration syntax and active config tree.
                    <ul>
                      <li><code>-t</code>: test configuration and exit</li>
                    </ul>
                  </li>

                  <li>
                    <code>systemctl reload nginx</code>: Reload config without a full restart.
                  </li>

                  <li>
                    <code>ss -lntp</code>: Show listening TCP sockets and owning processes.
                    <ul>
                      <li><code>-l</code>: listening sockets</li>
                      <li><code>-n</code>: numeric output</li>
                      <li><code>-t</code>: TCP sockets</li>
                      <li><code>-p</code>: process info</li>
                    </ul>
                  </li>

                  <li>
                    <code>curl http://localhost</code>: Test HTTP response locally.
                    <ul>
                      <li><code>-I</code>: fetch headers only</li>
                      <li><code>-s</code>: silent mode</li>
                    </ul>
                  </li>

                  <li>
                    <code>journalctl -u nginx</code>: View Nginx service logs.
                    <ul>
                      <li><code>-n 50</code>: last 50 lines</li>
                      <li><code>--no-pager</code>: print directly</li>
                    </ul>
                  </li>
                </ul>
              </section>
            </div>
            <!-- /main -->
          </div>
          <!-- /row -->

          <nav class="lab-pagination">
            <a id="prev-lab" class="lab-nav-link" href="#" aria-label="Back to top">
              &uArr;
            </a>
          </nav>
        </div>
        <!-- /container -->
      </section>

      <!-- FOOTER -->
      <footer class="module bg-light">
        <div class="container">
          <div class="row">
            <div class="col-sm-12">
              <ul class="social-text-links font-alt text-center m-b-20">
                <li>
                  <a
                    href="https://github.com/vonds"
                    target="_blank"
                    rel="noopener"
                  >
                    Github
                  </a>
                </li>
                <li>
                  <a
                    href="https://www.linkedin.com/in/vonds/"
                    target="_blank"
                    rel="noopener"
                  >
                    Linkedin
                  </a>
                </li>
              </ul>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-12">
              <p class="copyright text-center m-b-0">
                VONDS &copy;
                <span id="year"></span>
              </p>

              <div class="scroll-up">
                <a href="#totop"><i class="fa fa-angle-double-up"></i></a>
              </div>
            </div>
          </div>
        </div>
      </footer>
    </div>

    <!-- Javascript files (your existing) -->
    <script src="../assets/js/jquery-2.2.4.min.js"></script>
    <script src="../assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="../assets/js/jquery.superslides.min.js"></script>
    <script src="../assets/js/jquery.mb.YTPlayer.min.js"></script>
    <script src="../assets/js/jquery.magnific-popup.min.js"></script>
    <script src="../assets/js/owl.carousel.min.js"></script>
    <script src="../assets/js/jquery.simple-text-rotator.min.js"></script>
    <script src="../assets/js/imagesloaded.pkgd.js"></script>
    <script src="../assets/js/isotope.pkgd.min.js"></script>
    <script src="../assets/js/packery-mode.pkgd.min.js"></script>
    <script src="../assets/js/appear.js"></script>
    <script src="../assets/js/jquery.easing.1.3.js"></script>
    <script src="../assets/js/wow.min.js"></script>
    <script src="../assets/js/jqBootstrapValidation.js"></script>
    <script src="../assets/js/jquery.fitvids.js"></script>
    <script src="../assets/js/jquery.parallax-1.1.3.js"></script>
    <script src="../assets/js/smoothscroll.js"></script>
    <script src="../assets/js/custom.js"></script>

    <!-- Lab page JS -->
    <script src="../assets/js/lab.js"></script>
  </body>
</html>
