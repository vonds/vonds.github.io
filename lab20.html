<!-- lab020.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="exit_0 Documentation" />
    <meta name="name" content="Vonds" />

    <title>Vonds | Lab 020</title>

    <!-- Favicons -->
    <link rel="shortcut icon" href="../assets/images/favicon.png" />
    <link rel="apple-touch-icon" href="../assets/images/apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="../assets/images/apple-touch-icon-72x72.png" />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="../assets/images/apple-touch-icon-114x114.png"
    />

    <!-- Site styles (your existing) -->
    <link href="../assets/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="../assets/css/font-awesome.min.css" rel="stylesheet" />
    <link href="../assets/css/linea-icons.css" rel="stylesheet" />
    <link href="../assets/css/ionicons.min.css" rel="stylesheet" />
    <link href="../assets/css/simpletextrotator.css" rel="stylesheet" />
    <link href="../assets/css/magnific-popup.css" rel="stylesheet" />
    <link href="../assets/css/magnific-popup.css" rel="stylesheet" />
    <link href="../assets/css/owl.carousel.css" rel="stylesheet" />
    <link href="../assets/css/superslides.css" rel="stylesheet" />
    <link href="../assets/css/vertical.css" rel="stylesheet" />
    <link href="../assets/css/animate.css" rel="stylesheet" />
    <link href="../assets/css/style.css" rel="stylesheet" />
    <link href="../assets/css/docs.css" rel="stylesheet" />

    <!-- Lab page styles -->
    <link href="../assets/css/lab.css" rel="stylesheet" />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Dosis" rel="stylesheet" />
  </head>

  <body>
    <!-- PRELOADER -->
    <div class="page-loader">
      <div class="loader">Loading...</div>
    </div>

    <!-- OVERLAY MENU -->
    <div id="overlay-menu" class="overlay-menu">
      <a href="#" id="overlay-menu-hide" class="navigation-hide">
        <i class="ion-close-round"></i>
      </a>

      <div class="overlay-menu-inner">
        <nav class="overlay-menu-nav">
          <ul id="nav">
            <li><a href="../index.html">Home</a></li>

            <li class="slidedown">
              <a href="#">Portfolio</a>
              <ul>
                <li>
                  <a href="https://github.com/vonds/exit_0" target="_blank" rel="noopener">
                    exit_0
                  </a>
                </li>
                <li>
                  <a href="docs.html" target="_blank" rel="noopener">
                    exit_0
                  </a>
                </li>
              </ul>
            </li>

            <li>
              <a href="https://www.linkedin.com/in/vonds/" target="_blank" rel="noopener">
                LinkedIn
              </a>
            </li>
            <li>
              <a href="https://github.com/vonds" target="_blank" rel="noopener">
                Github
              </a>
            </li>
            <li>
              <a href="mailto:vonds13@gmail.com?subject=Hello Vonds">Contact</a>
            </li>
          </ul>
        </nav>
      </div>

      <div class="overlay-navigation-footer">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 text-center">
              <p class="copyright font-alt m-b-0">
                VONDS &copy;
                <script>
                  document.write(new Date().getFullYear())
                </script>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- WRAPPER -->
    <div class="wrapper">
      <!-- NAVIGATION -->
      <nav class="navbar navbar-custom navbar-transparent navbar-light navbar-fixed-top">
        <div class="container">
          <div class="navbar-header">
            <a class="navbar-brand" href="../index.html">
              <img src="../assets/images/logo-dark.png" width="95" alt="" />
            </a>
          </div>

          <ul id="icons-navbar" class="nav navbar-nav navbar-right">
            <li>
              <a href="#" id="toggle-menu" class="show-overlay" title="Menu">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </a>
            </li>
          </ul>
        </div>
      </nav>

      <!-- DOCS PAGE -->
      <section class="module">
        <div class="container">
          <h2 class="font-alt module-title m-t-60">Lab 20: Manage Environment Variables</h2>

          <nav class="lab-pagination">
            <a id="prev-lab" class="lab-nav-link" href="#" aria-label="Previous lab">&laquo;</a>
            <a id="next-lab" class="lab-nav-link" href="#" aria-label="Next lab">&raquo;</a>
          </nav>

          <div class="row">
            <!-- LEFT SIDEBAR -->
            <div class="col-sm-4 col-md-3 lab-sidebar">
              <div class="docs-sidebar">
                <div class="docs-widget">
                  <h5 class="widget-title">
                    <a href="./docs.html">Lab Index</a>
                  </h5>
                  <ul class="docs-nav">
                    <li><a href="#scenario">Scenario</a></li>
                    <li><a href="#objective">Objective</a></li>
                    <li><a href="#concepts">Concepts</a></li>
                    <li><a href="#walkthrough">Walkthrough</a></li>
                    <li><a href="#breakpoints">Breakpoints</a></li>
                    <li><a href="#cleanup">Cleanup</a></li>
                    <li><a href="#reference">Reference</a></li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- MAIN CONTENT -->
            <div class="col-sm-8 col-md-9 lab-doc">
              <p class="m-b-20 lab-summary">
                Inspect the current shell environment, set variables for the active session, and make
                changes persist across login shells. Update PATH safely and identify the correct
                per-user and system-wide startup locations.
              </p>

              <!-- Video (kept on page; removed from left panel) -->
              <section class="lab-section" id="video" aria-label="Lab video">
                <div class="lab-video">
                  <div class="lab-video-embed text-center">
                    <iframe
                      src="https://www.youtube.com/embed/MAoYZIdvXy8?si=jdFcrvrpDIHHCoKM"
                      title="YouTube video player"
                      frameborder="0"
                      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                      referrerpolicy="strict-origin-when-cross-origin"
                      allowfullscreen
                    ></iframe>
                  </div>
                </div>
              </section>

              <!-- Scenario -->
              <section class="lab-section" id="scenario">
                <div class="lab-chips" aria-label="Tags">
                  <span class="lab-chip"><span class="lab-chip-key">core</span></span>
                  <span class="lab-chip"><span class="lab-chip-key">troubleshooting</span></span>
                  <span class="lab-chip"><span class="lab-chip-key">services</span></span>
                </div>

                <h3 class="font-alt lab-section-title m-b-40 m-t-40">Scenario</h3>

                <p>
                  A teammate reports that a tool works in one terminal session but “disappears” in a
                  new login. You need to validate the current environment, export variables correctly,
                  and make changes persist for bash login shells without breaking existing PATH
                  behavior. You also need to know where to place global environment settings for all
                  users.
                </p>

                <div class="lab-callout">
                  <div class="lab-callout-label">Operator context</div>
                  <p class="m-b-0">
                    Most “it works on my machine” issues in Linux come down to startup files, PATH
                    ordering, and whether the shell is login vs non-login. Treat env changes like
                    config changes: verify, apply, re-check in a new session.
                  </p>
                </div>
              </section>

              <!-- Objective -->
              <section class="lab-section alt-background" id="objective">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">Objective</h3>
                <ul>
                  <li>Display all environment variables in the current shell.</li>
                  <li>Set a new exported variable for the current session.</li>
                  <li>Identify the correct per-user file for bash login-shell persistence.</li>
                  <li>Append a directory to PATH safely for the current session.</li>
                  <li>Identify the system-wide file used to define global environment variables.</li>
                </ul>
              </section>

              <!-- Concepts (no alt-background moving forward) -->
              <section class="lab-section" id="concepts">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">Concepts</h3>
                <ul>
                  <li>
                    Environment inspection with <code>printenv</code> and <code>env</code>.
                  </li>
                  <li>
                    Variable scope: session-only shell variables versus exported environment variables.
                  </li>
                  <li>
                    bash login startup order: <code>~/.bash_profile</code>, <code>~/.bash_login</code>,
                    <code>~/.profile</code>.
                  </li>
                  <li>
                    Safe PATH manipulation using <code>export PATH="$PATH:/new/path"</code>.
                  </li>
                  <li>
                    System-wide environment configuration using <code>/etc/environment</code>.
                  </li>
                </ul>
              </section>

              <!-- Walkthrough -->
              <section class="lab-section alt-background" id="walkthrough">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">Walkthrough</h3>

                <!-- Step 1 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 1</strong>: Show all environment variables for the current shell.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Command</span>
                      <button class="lab-copy-btn" type="button" data-copy="#cmd-step-1">Copy</button>
                    </div>
                    <pre><code id="cmd-step-1">printenv
# OR
env</code></pre>
                  </div>

                  <p>
                    Both <code>printenv</code> and <code>env</code> display the exported environment for
                    the current process context. This is the fastest way to confirm what the shell will
                    pass to child processes.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code>PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
HOME=/home/lab
SHELL=/bin/bash</code></pre>
                  </div>
                </div>

                <!-- Step 2 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 2</strong>: Set a temporary exported variable for this session.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Command</span>
                      <button class="lab-copy-btn" type="button" data-copy="#cmd-step-2">Copy</button>
                    </div>
                    <pre><code id="cmd-step-2">export FOO=bar</code></pre>
                  </div>

                  <p>
                    <code>export</code> marks the variable for inheritance by child processes. Without
                    <code>export</code>, the variable exists only as a shell variable in the current shell.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code>Variable FOO set to 'bar'.</code></pre>
                  </div>
                </div>

                <!-- Step 3 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 3</strong>: Make the variable persistent for bash login shells.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>File</span>
                      <button class="lab-copy-btn" type="button" data-copy="#cmd-step-3">Copy</button>
                    </div>
                    <pre><code id="cmd-step-3">~/.bash_profile
# OR (depending on system config)
~/.bash_login
~/.profile</code></pre>
                  </div>

                  <p>
                    bash login shells read <code>~/.bash_profile</code> first. If it does not exist,
                    bash may fall back to <code>~/.bash_login</code> or <code>~/.profile</code> depending
                    on what exists. Add <code>export FOO=bar</code> there to make it available in new login
                    sessions.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code># Add a line like:
export FOO=bar</code></pre>
                  </div>
                </div>

                <!-- Step 4 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 4</strong>: Append <code>/opt/scripts</code> to PATH for this session.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Command</span>
                      <button class="lab-copy-btn" type="button" data-copy="#cmd-step-4">Copy</button>
                    </div>
                    <pre><code id="cmd-step-4">export PATH=$PATH:/opt/scripts</code></pre>
                  </div>

                  <p>
                    Preserve the existing PATH by referencing <code>$PATH</code>. Appending places your
                    directory at the end, which reduces the risk of shadowing system binaries with a
                    custom script of the same name.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code>PATH updated for this session.</code></pre>
                  </div>
                </div>

                <!-- Step 5 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 5</strong>: Identify the system-wide environment configuration file.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>File</span>
                      <button class="lab-copy-btn" type="button" data-copy="#cmd-step-5">Copy</button>
                    </div>
                    <pre><code id="cmd-step-5">/etc/environment</code></pre>
                  </div>

                  <p>
                    <code>/etc/environment</code> is commonly used to define global environment variables
                    at login for all users. It is not a shell script. Keep the format simple (KEY=VALUE)
                    and avoid shell syntax.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code>/etc/environment is used for global env vars.</code></pre>
                  </div>
                </div>

                <!-- Step 6 -->
                <div class="lab-step">
                  <div class="lab-step-title">
                    <strong class="font-alt">Step 6</strong>: Validate changes in a fresh session.
                  </div>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <div class="lab-codeblock-header">
                      <span>Command</span>
                      <button class="lab-copy-btn" type="button" data-copy="#cmd-step-6">Copy</button>
                    </div>
                    <pre><code id="cmd-step-6"># Start a new login shell and confirm:
printenv FOO
echo $PATH</code></pre>
                  </div>

                  <p>
                    Session changes prove the syntax works. A new login session proves persistence and
                    correct startup-file placement. This is the standard “done means verified” check for
                    environment troubleshooting.
                  </p>

                  <div class="lab-codeblock m-b-40 m-t-40">
                    <pre><code># Expected:
bar
# PATH should include:
/opt/scripts</code></pre>
                  </div>
                </div>
              </section>

              <!-- Common breakpoints -->
              <section class="lab-section" id="breakpoints">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">Common breakpoints</h3>

                <div class="lab-callout">
                  <div class="lab-callout-label">Changes work only in the current terminal</div>
                  <p class="m-b-0">
                    If the variable works only in the current session, it was not written into a startup
                    file used by the type of shell you are launching. Confirm whether you are opening a
                    login shell and confirm the correct file is sourced.
                  </p>
                </div>

                <div class="lab-callout">
                  <div class="lab-callout-label">PATH overwritten instead of appended</div>
                  <p class="m-b-0">
                    If you set <code>PATH=/opt/scripts</code> without including <code>$PATH</code>, you
                    can break command lookup for standard tools. Always preserve the existing value:
                    <code>export PATH="$PATH:/opt/scripts"</code>.
                  </p>
                </div>

                <div class="lab-callout">
                  <div class="lab-callout-label">Startup file is not sourced</div>
                  <p class="m-b-0">
                    A non-login interactive shell reads <code>~/.bashrc</code>, not
                    <code>~/.bash_profile</code>. If you are using a terminal emulator that launches
                    non-login shells, you may need to source <code>~/.bashrc</code> from your profile or
                    place exports in the right file for your environment.
                  </p>
                </div>

                <div class="lab-callout">
                  <div class="lab-callout-label">Global changes do not apply</div>
                  <p class="m-b-0">
                    <code>/etc/environment</code> applies at login. If you edit it, start a new login
                    session (or log out/in) to confirm the change. Avoid shell syntax in this file.
                  </p>
                </div>
              </section>

              <!-- Cleanup -->
              <section class="lab-section alt-background" id="cleanup">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">Cleanup checklist</h3>

                <p>
                  If you added variables for testing, remove them from the startup file you modified
                  and confirm they no longer appear in a new login session.
                </p>

                <div class="lab-codeblock m-b-40 m-t-40">
                  <div class="lab-codeblock-header">
                    <span>Commands</span>
                    <button class="lab-copy-btn" type="button" data-copy="#cmd-cleanup">Copy</button>
                  </div>
                  <pre><code id="cmd-cleanup"># Start a new login session after removing the test export and confirm:
printenv FOO
echo $PATH</code></pre>
                </div>

                <div class="lab-callout">
                  <div class="lab-callout-label">Success signal</div>
                  <p class="m-b-0">
                    <code>printenv FOO</code> returns no value (or “not found”), and PATH still contains
                    the expected baseline directories.
                  </p>
                </div>
              </section>

              <!-- Reference -->
              <section class="lab-section" id="reference">
                <h3 class="font-alt lab-section-title m-b-40 m-t-40">Reference</h3>

                <ul class="lab-reference-list">

                  <li>
                    <code>printenv</code>: Displays exported environment variables.
                  </li>

                  <li>
                    <code>env</code>: Displays the environment and can run a command with a modified environment.
                  </li>

                  <li>
                    <code>export NAME=value</code>: Sets an environment variable for the current shell and its child processes.
                  </li>

                  <li>
                    <code>~/.bash_profile</code>, <code>~/.bash_login</code>, <code>~/.profile</code>: Per-user startup files typically read by bash login shells.
                    <ul>
                      <li><code>~/.bash_profile</code>: First choice for bash login shells if present.</li>
                      <li><code>~/.bash_login</code>: Fallback if <code>~/.bash_profile</code> does not exist.</li>
                      <li><code>~/.profile</code>: Common POSIX fallback file used by multiple shells.</li>
                    </ul>
                  </li>

                  <li>
                    <code>/etc/environment</code>: System-wide environment variables for all users at login.
                    <ul>
                      <li>Uses simple <code>KEY=VALUE</code> format (not shell code).</li>
                    </ul>
                  </li>

                  <li>
                    <code>PATH</code>: Controls command lookup order.
                    <ul>
                      <li>Preserve existing values when modifying: <code>export PATH="$PATH:/opt/scripts"</code>.</li>
                    </ul>
                  </li>

                </ul>
              </section>
            </div>
            <!-- /main -->
          </div>
          <!-- /row -->
        </div>
        <!-- /container -->
      </section>

      <!-- FOOTER -->
      <footer class="module bg-light">
        <div class="container">
          <div class="row">
            <div class="col-sm-12">
              <ul class="social-text-links font-alt text-center m-b-20">
                <li>
                  <a href="https://github.com/vonds" target="_blank" rel="noopener">Github</a>
                </li>
                <li>
                  <a href="https://www.linkedin.com/in/vonds/" target="_blank" rel="noopener">Linkedin</a>
                </li>
              </ul>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-12">
              <p class="copyright text-center m-b-0">
                VONDS &copy; <span id="year"></span>
              </p>

              <div class="scroll-up">
                <a href="#totop"><i class="fa fa-angle-double-up"></i></a>
              </div>
            </div>
          </div>
        </div>
      </footer>
    </div>

    <!-- Javascript files (your existing) -->
    <script src="../assets/js/jquery-2.2.4.min.js"></script>
    <script src="../assets/bootstrap/js/bootstrap.min.css"></script>
    <script src="../assets/js/jquery.superslides.min.js"></script>
    <script src="../assets/js/jquery.mb.YTPlayer.min.js"></script>
    <script src="../assets/js/jquery.magnific-popup.min.js"></script>
    <script src="../assets/js/owl.carousel.min.js"></script>
    <script src="../assets/js/jquery.simple-text-rotator.min.js"></script>
    <script src="../assets/js/imagesloaded.pkgd.js"></script>
    <script src="../assets/js/isotope.pkgd.min.js"></script>
    <script src="../assets/js/packery-mode.pkgd.min.js"></script>
    <script src="../assets/js/appear.js"></script>
    <script src="../assets/js/jquery.easing.1.3.js"></script>
    <script src="../assets/js/wow.min.js"></script>
    <script src="../assets/js/jqBootstrapValidation.js"></script>
    <script src="../assets/js/jquery.fitvids.js"></script>
    <script src="../assets/js/jquery.parallax-1.1.3.js"></script>
    <script src="../assets/js/smoothscroll.js"></script>
    <script src="../assets/js/custom.js"></script>

    <!-- Lab page JS (new) -->
    <script src="../assets/js/lab.js"></script>

    <script>
      document.getElementById("year").textContent = new Date().getFullYear()
    </script>
  </body>
</html>
